<!DOCTYPE html>
<html>

<head>
    <title>Bootstrap Example</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.js"></script>


</head>

<body>
<!-- Cabecera -->
<div class="text-black-50 text-center  "
     style="background-image: url(https://cdn.pixabay.com/photo/2017/08/08/21/31/skyscrapers-2612766__340.jpg);
     background-size: cover;
     width: auto;
     height: 100vh;
     display: flex;
     justify-content: center;
     align-items:center ;">
    <!--
     <a class="justify-content-center align-items-center">
         <img src="../logo2.png" alt="logo" style="width:200px;">
     </a>
     -->
    <h1 > ACCESIBILIDAD DE LAS <br>PERSONAS AL MEDIO FISICO</h1>
</div>
<!-- FIN Cabecera -->

<!-- Menú -->
<div>
    <nav class="navbar navbar-expand-sm navbar-dark justify-content-center" style="background: linear-gradient(#667f9c, #F5F5DC)">
        <!-- Brand/logo
        <a class="navbar-brand" href="#">
            <img src="../logo2.png" alt="logo" style="width:45px;">
        </a>
-->
        <!-- Links -->
        <ul class="navbar-nav">
            <li class="nav-item">
                <button type="button" class="btn btn-informacion ">
                    <a class="nav-link" href="inicio">
                        <h3 class="text-center text-white" > &nbsp;&nbsp; &nbsp;&nbsp;Inicio
                            <img src="../inicio2.png"  class=" rounded-circle " width="50" height="50" align="left" >
                        </h3>
                    </a>
                </button>
            </li>
            <li class="nav-item">
                <button type="button" class="btn btn-informacion">
                    <a class="nav-link" href="acerca">
                        <h3 class="text-center text-white" >&nbsp;&nbsp;&nbsp; Acerca de &nbsp;&nbsp;
                            <img src="../acerca2.png"  class=" rounded-circle " width="50" height="50" align="left" >
                        </h3>
                    </a>
                </button>
            </li>
            <li class="nav-item">
                <button type="button" class="btn btn-informacion">
                    <a class="nav-link" href="informacion">
                        <h3 class="text-center text-white" >&nbsp;&nbsp;&nbsp; Resultados&nbsp;
                            <img src="../informacion2.png"  class=" rounded-circle " width="50" height="50" align="left" >
                        </h3>
                    </a>
                </button>
            </li>
        </ul>
    </nav>
</div>
<!-- FIN Menú -->
<!--
<div class="container-fluid">
    <div class="row">
        <div class="col-sm-6 text-center " style="background-color:#343A40; float:right">
                <button type="button" class="btn" >
                    <img src="../inicio.png" class=" img-responsive img-thumbnail mx-auto d-block " width="200" height="200">
                    <a class="nav-link" href="inicio"><h3>&nbsp;&nbsp; Información &nbsp;&nbsp;</h3> </a>
                </button>
        </div>


        <div class="col-sm-6" style="background-color:lavenderblush;"></div>
   </div>

</div>
-->



<h1>Seleccion de Información</h1>

<form action="/api/contenido">
    <label for="id_con">Seleccionar identificador</label>
    <select name="id_con" id="id_con">
        <option value="">Todos</option>
        <% for(var i= 0; i< contenidos.length; i++){ %>
            <% var valor = contenidos[i]%>
            <% if(valor%2!==0) {%>
                <option value="<%= valor.id_con %>"> Nombre: <%= valor.id_con %> </option>
            <% } %>
        <% } %>
    </select>
    <button type="submit">filtrar por id con</button>
</form>
<h1>contenido filtrado</h1>
<p><%= contenidoFiltrado[0].id_con %></p>




<!-- CHART.JS -->

<div id="canvas-container" style="width:40%;">
    <canvas id="chart" width="500" height="350"></canvas>
</div>

<!-- jQuery -->

<script crossorigin="anonymous" integrity="sha384-xBuQ/xzmlsLoJpyjoggmTEz8OWUFM0/RC5BsqQBDX2v5cMvDHcMakNTNrHIW2I5f" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>

<!-- Chart JS -->

<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.bundle.js" integrity="sha256-JG6hsuMjFnQ2spWq0UiaDRJBaarzhFbUxiUTxQDA9Lk=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.bundle.min.js" integrity="sha256-XF29CBwU1MWLaGEnsELogU6Y6rcc5nCkhhx89nFMIDQ=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.js" integrity="sha256-J2sc79NPV/osLcIpzL3K8uJyAD7T5gaEFKlLDM18oxY=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.min.js" integrity="sha256-CfcERD4Ov4+lKbWbYqXD6aFM9M51gN4GUEtDhkWABMo=" crossorigin="anonymous"></script>

</body>

<script>
    console.log(<%- JSON.stringify(contenidos) %>)
    var contenidos = <%- JSON.stringify(contenidos) %>
        console.log(contenidos)
    console.log('holaaaa')

    var valoresContenidos = contenidos.map(
        function (contenido) {
            return contenido.id_for;
        }
    )

    var valoresNordis = contenidos.map(
        function (nordis) {
            return nordis.id_opcpre;
        }
    )
//obtencion de data seleccionada
/*    const conRepo = new ContenidoService ();

    var consulta = contenidos.map(
    app.get( (req, res) => {
        conRepo.obtener(req.parameter.id_for, req.parameter.id_opcpre).then((resultado) => res.send(resultado));
        return res;
    }))*/
//fin -- revisar



    var datos = {
        labels : valoresContenidos,
        datasets : [{
            label : "datos 1",
            backgroundColor : "rgba(220,220,220,0.5)",
            data :valoresNordis
        }
        ]
    };

    console.log(datos)

    var canvas = document.getElementById('chart').getContext('2d');
    window.bar = new Chart(canvas, {
        type : "bar",
        data : datos,
        options : {
            elements : {
                rectangle : {
                    borderWidth : 1,
                    borderColor : "rgb(0,255,0)",
                    borderSkipped : 'bottom'
                }
            },
            responsive : true,
            title : {
                display : true,
                text : "Prueba de grafico de barras"
            }
        }
    });

</script>

</html>